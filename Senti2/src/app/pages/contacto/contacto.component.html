<div class="contacto-wrapper">
  <div class="contacto-container">
    <div class="image-side">
      <img src="assets/contact.jpg" alt="Persona escribiendo notas">
    </div>

    <div class="form-side">
      <form (ngSubmit)="onSubmit()" #contactForm="ngForm">
        <div class="form-group">
          <label for="nombre">Nombre:</label>
          <input
            id="nombre"
            type="text"
            class="input-brown"
            placeholder="Introduzca su nombre"
            [(ngModel)]="nombre"
            name="nombre"
            required
            aria-label="Nombre"
            aria-required="true"
            [attr.aria-invalid]="!nombre && errorMessage ? 'true' : 'false'">
        </div>

        <div class="form-group">
          <label for="apellidos">Apellidos:</label>
          <input
            id="apellidos"
            type="text"
            class="input-brown"
            placeholder="Introduzca su apellido/s"
            [(ngModel)]="apellidos"
            name="apellidos"
            required
            aria-label="Apellidos"
            aria-required="true"
            [attr.aria-invalid]="!apellidos && errorMessage ? 'true' : 'false'">
        </div>

        <div class="form-group">
          <label for="email">Email:</label>
          <input
            id="email"
            type="email"
            class="input-brown"
            placeholder="Introduzca un email válido"
            [(ngModel)]="email"
            name="email"
            required
            aria-label="Correo electrónico"
            aria-required="true"
            [attr.aria-invalid]="errorMessage?.includes('email') ? 'true' : 'false'">
        </div>

        <div class="form-group">
          <label for="mensaje">Motivo / Mensaje:</label>
          <textarea
            id="mensaje"
            class="input-brown textarea-brown"
            placeholder="Introduzca una descripción..."
            [(ngModel)]="mensaje"
            name="mensaje"
            required
            aria-label="Mensaje"
            aria-required="true"
            [attr.aria-invalid]="!mensaje && errorMessage ? 'true' : 'false'"></textarea>
        </div>

        <div class="form-group">
          <label>Adjuntar CV:</label>
          <input id="cv-input" type="file" accept=".pdf,.doc,.docx" class="input-brown file-input"
                 (change)="onFileSelected($event)">
          <small class="file-hint">PDF, DOC o DOCX (opcional)</small>
        </div>

        @if (successMessage) {
          <div class="alert alert-success" role="status" aria-live="polite">
            {{ successMessage }}
          </div>
        }

        @if (errorMessage) {
          <div class="alert alert-error" role="alert" aria-live="assertive">
            {{ errorMessage }}
          </div>
        }

        <button type="submit" class="btn-primary" style="width: 100%; border: none; cursor: pointer;"
                [disabled]="sending">
          {{ sending ? 'Enviando...' : 'Enviar Mensaje' }}
        </button>
      </form>
    </div>
  </div>
</div>
